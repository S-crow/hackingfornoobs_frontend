{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Nico\\\\hackingfornoobs_frontend\\\\src\\\\components\\\\Kerberos.js\";\nimport React from 'react';\nimport KerberosImg from \"../img/kerberos.jpg\";\n\nclass Kerberos extends React.Component {\n  render() {\n    return React.createElement(\"div\", {\n      className: \"article\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 7\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 8\n      },\n      __self: this\n    }, \"Kerberos\"), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 9\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: \"tabulation\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 10\n      },\n      __self: this\n    }, \"En mythologie, Kerberos (plus connu sous le nom de Cerb\\xE8re) est un \\xE9norme chien \\xE0 trois t\\xEAtes qui garde l\\u2019entr\\xE9e des Enfers. Dans notre article il s'agit du protocole d'authentification dans un r\\xE9seau informatique qui a besoin de 3 entit\\xE9s distincte pour fonctionner, d'o\\xF9 la r\\xE9f\\xE9rence pour le nom.\"), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 12\n      },\n      __self: this\n    }, \"Qu'est-ce que Kerberos\"), React.createElement(\"p\", {\n      className: \"tabulation\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 13\n      },\n      __self: this\n    }, \"Protocole d'authentification des utilisateurs dans un r\\xE9seau, fonctionnant de pair avec un Active Directory, il permet l'acc\\xE8s des utilisateurs \\xE0 des services de mani\\xE8re authentifi\\xE9e.\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 15\n      },\n      __self: this\n    }, \"Le principe de Kerberos est de centraliser le processus d'authentification, de sorte que les identifiants n'aient pas besoin de circuler sur le r\\xE9seau et les serveurs d'en avoir connaissance. Toute l'authentification sera g\\xE9r\\xE9e par le \", React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 15\n      },\n      __self: this\n    }, \"KDC (Key Distribution Center)\"), \" suivant 3 \\xE9tapes :\"), React.createElement(\"ol\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 16\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 17\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 17\n      },\n      __self: this\n    }, \"Authentification\"), \" du client aupr\\xE8s du KDC Authentication Service (AS)\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18\n      },\n      __self: this\n    }, \"Demande du client d'un \", React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18\n      },\n      __self: this\n    }, \"Ticket de service\")), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19\n      },\n      __self: this\n    }, \"Acc\\xE8s au service\"), \" en lui fournissant le ticket associ\\xE9\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22\n      },\n      __self: this\n    }), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }, \"Principe de fonctionnement\"), React.createElement(\"img\", {\n      src: KerberosImg,\n      style: {\n        'width': '80%'\n      },\n      alt: \"sch\\xE9ma Kerberos\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28\n      },\n      __self: this\n    }), React.createElement(\"ol\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }, \"Le client demande un ticket d\\u2019authentification (TGT) au Key Distribution Center (KDC)\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, \"Le KDC v\\xE9rifie les donn\\xE9es d\\u2019identification et renvoie un TGT chiffr\\xE9 et une cl\\xE9 de session\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, \"Le TGT est chiffr\\xE9 \\xE0 l\\u2019aide de la cl\\xE9 secr\\xE8te Ticket Granting Service (TGS)\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }, \"Le client conserve le TGT et, lorsqu\\u2019il arrive \\xE0 expiration, le gestionnaire de session local en demande un autre (cette proc\\xE9dure est transparente pour l\\u2019utilisateur)\")), \"Si le client demande \\xE0 acc\\xE9der \\xE0 un service ou \\xE0 une autre ressource du r\\xE9seau, la proc\\xE9dure est la suivante :\", React.createElement(\"ol\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, \"Le client envoie le TGT en cours du TGS avec le Service Principal Name (SPN) de la ressource \\xE0 laquelle le client souhaite acc\\xE9der\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, \"Le KDC v\\xE9rifie le TGT de l\\u2019utilisateur et s\\u2019assure que l\\u2019utilisateur a acc\\xE8s au service\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, \"Le TGS envoie une cl\\xE9 de session valide pour le service au client\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, \"Le client transmet la cl\\xE9 de session au service pour prouver que l\\u2019utilisateur dispose d\\u2019un acc\\xE8s, et le service accorde l\\u2019acc\\xE8s\")), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \"[Comparaison parc attraction]\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"Quelle est la diff\\xE9rence entre Kerberos et NTLM ?\"), \"[D\\xE9finir NTLM]\", React.createElement(\"p\", {\n      className: \"tabulation\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"La principale diff\\xE9rence entre les deux syst\\xE8mes est la v\\xE9rification tierce partie et le chiffrement plus efficace de Kerberos. Cette \\xE9tape suppl\\xE9mentaire du processus apporte une couche suppl\\xE9mentaire de s\\xE9curit\\xE9 importante par rapport \\xE0 NTLM. Actuellement, la technologie NTLM est obsol\\xE8te et n'assure plus correctement la protection des donn\\xE9es sensibles.\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"Les attaques sur Kerberos\"), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Pass-the-ticket : consiste \\xE0 falsifier une cl\\xE9 de session et \\xE0 la pr\\xE9senter \\xE0 la ressource sous la forme de donn\\xE9es d\\u2019identification\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"#golden\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Golden Ticket\"), \" : un ticket qui accorde \\xE0 un utilisateur un acc\\xE8s administrateur au domaine\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"#silver\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"Silver Ticket\"), \" : un ticket falsifi\\xE9 qui donne acc\\xE8s \\xE0 un service\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Credential stuffing / force brute : tentatives r\\xE9p\\xE9t\\xE9es automatis\\xE9es visant \\xE0 deviner un mot de passe\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Affaiblissement du chiffrement au moyen d\\u2019un Skeleton Key : un malware capable de passer outre Kerberos, mais l\\u2019attaque doit disposer d\\u2019un acc\\xE8s Admin\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Attaque DCShadow : nouvelle attaque gr\\xE2ce \\xE0 laquelle les hackers p\\xE9n\\xE8trent dans le r\\xE9seau pour d\\xE9finir leur propre contr\\xF4leur de domaine afin de s\\u2019infiltrer plus en profondeur\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(\"hr\", {\n      id: \"golden\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Golden Ticket\"), React.createElement(\"p\", {\n      className: \"tabulation\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"Dans un Active Directory, les comptes sont identifi\\xE9s par un nom d\\u2019utilisateur et un mot de passe, l\\u2019utilisateur identifi\\xE9 obtient alors un ticket Kerberos contenant son jeton d\\u2019authentification.\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), \"Le Golden Ticket est le jeton d\\u2019authentification associ\\xE9 au compte KRBTG, un compte sp\\xE9cial servant \\xE0 chiffrer tous les jetons d\\u2019authentification pour le DC. Ce Golden Ticket peut \\xEAtre utiliser avec une technique de \", React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Pass-the-hash\"), \" pour se connecter \\xE0 n\\u2019importe quel compte.\"), React.createElement(\"ol\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Infecter une machine cible avec un malware qui permet un premier acc\\xE8s avec un compte utilisateur pour acc\\xE9der \\xE0 d\\u2019autres ressources r\\xE9seau (souvent \\xE0 partir d\\u2019un e-mail de phishing)\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Augmenter suffisamment ses privil\\xE8ges pour avoir acc\\xE8s au Contr\\xF4leur de domaine (DC)\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Se connecter au DC et obtenir via un dump le hash du mot de passe du compte KRBTG afin de cr\\xE9er un Golden Ticket. (dump du hash via mimikatz)\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Utiliser ce Golden Ticket pour acc\\xE9der \\xE0 toutes les ressources du r\\xE9seau\")), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"La subtilit\\xE9 de cette attaque c\\u2019est que m\\xEAme en modifiant le mot de passe du compte KRBTG, le jeton d\\u2019authentification restera valide, donc le Golden Ticket aussi.\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(\"hr\", {\n      id: \"silver\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Silver Ticket\"), React.createElement(\"p\", {\n      className: \"tabulation\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Apr\\xE8s avoir craqu\\xE9 le mot de passe d\\u2019un compte il est possible de l\\u2019utiliser pour cr\\xE9er un faux ticket d\\u2019authentification de service falsifi\\xE9 appel\\xE9 \", React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Silver Ticker\"), \". Kerberos permet aux services de se connecter sans que la validit\\xE9 de leur jeton ne soit v\\xE9rifi\\xE9e, c'est cette caract\\xE9ristique qui est exploit\\xE9e pour cr\\xE9er des Silver Tickets.\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), \"Sean Metcalf \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), \"Un Silver Ticket est un ticket d\\u2019authentification falsifi\\xE9 utilisable pour se connecter \\xE0 certains comptes. Ils sont plus difficiles \\xE0 d\\xE9tecter que les Golden Tickets en raison de l\\u2019absence de communication entre le service et le contr\\xF4leur de domaine et comme la journalisation se fait en local sur l\\u2019ordinateur cible.\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), \"Les tickets Kerberos sont v\\xE9rifi\\xE9s par le Certificat de compte habilit\\xE9 (PAC) tierce partie mais les comptes de services (comme CIFS ou le pare-feu Windows) ne sont pas toujours v\\xE9rifi\\xE9s.\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }), \"Avec un Silver Ticket, on peut authentification Kerberos aupr\\xE8s du contr\\xF4leur de domaine ou utiliser une technique pass-the-ticket pour augmenter ses droits d\\u2019acc\\xE8s.\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"Conclusion\"), React.createElement(\"p\", {\n      className: \"tabulation\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"Kerberos est encore loin d\\u2019\\xEAtre obsol\\xE8te et a prouv\\xE9 son efficacit\\xE9 en tant que protocole d'authentification au moyen d' algorithmes de chiffrement forts qui prot\\xE9gent les mots de passe et tickets d\\u2019authentification.\"));\n  }\n\n}\n\nexport default Kerberos;","map":{"version":3,"sources":["C:/Users/Nico/hackingfornoobs_frontend/src/components/Kerberos.js"],"names":["React","KerberosImg","Kerberos","Component","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport KerberosImg from \"../img/kerberos.jpg\"\r\n\r\nclass Kerberos extends React.Component {\r\n    render() {\r\n      return (\r\n        <div className=\"article\">\r\n          <h1>Kerberos</h1>\r\n          <hr/>\r\n          <p className=\"tabulation\">En mythologie, Kerberos (plus connu sous le nom de Cerbère) est un énorme chien à trois têtes qui garde l’entrée des Enfers. Dans notre article il s'agit du protocole d'authentification dans un réseau informatique qui a besoin de 3 entités distincte pour fonctionner, d'où la référence pour le nom.</p>\r\n        \r\n          <h2>Qu'est-ce que Kerberos</h2>\r\n          <p className=\"tabulation\">Protocole d'authentification des utilisateurs dans un réseau, fonctionnant de pair avec un Active Directory, il permet l'accès des utilisateurs à des services de manière authentifiée.</p>\r\n\r\n          <p>Le principe de Kerberos est de centraliser le processus d'authentification, de sorte que les identifiants n'aient pas besoin de circuler sur le réseau et les serveurs d'en avoir connaissance. Toute l'authentification sera gérée par le <strong>KDC (Key Distribution Center)</strong> suivant 3 étapes :</p>\r\n          <ol>\r\n            <li><strong>Authentification</strong> du client auprès du KDC Authentication Service (AS)</li>\r\n            <li>Demande du client d'un <strong>Ticket de service</strong></li>\r\n            <li><strong>Accès au service</strong> en lui fournissant le ticket associé</li>\r\n          </ol>  \r\n\r\n          <br/>\r\n          <hr/>\r\n          <br/>\r\n\r\n          <h2>Principe de fonctionnement</h2>\r\n\r\n          <img src={KerberosImg} style={{'width':'80%'}} alt=\"schéma Kerberos\"/>\r\n\r\n          <ol>\r\n            <li>Le client demande un ticket d’authentification (TGT) au Key Distribution Center (KDC)</li>\r\n            <li>Le KDC vérifie les données d’identification et renvoie un TGT chiffré et une clé de session</li>\r\n            <li>Le TGT est chiffré à l’aide de la clé secrète Ticket Granting Service (TGS)</li>\r\n            <li>Le client conserve le TGT et, lorsqu’il arrive à expiration, le gestionnaire de session local en demande un autre (cette procédure est transparente pour l’utilisateur)</li>\r\n          </ol>\r\n          \r\n          Si le client demande à accéder à un service ou à une autre ressource du réseau, la procédure est la suivante :\r\n\r\n          <ol>\r\n            <li>Le client envoie le TGT en cours du TGS avec le Service Principal Name (SPN) de la ressource à laquelle le client souhaite accéder</li>\r\n            <li>Le KDC vérifie le TGT de l’utilisateur et s’assure que l’utilisateur a accès au service</li>\r\n            <li>Le TGS envoie une clé de session valide pour le service au client</li>\r\n            <li>Le client transmet la clé de session au service pour prouver que l’utilisateur dispose d’un accès, et le service accorde l’accès</li>\r\n          </ol>\r\n\r\n\r\n          <p>[Comparaison parc attraction]</p>\r\n\r\n          <br/>\r\n          <hr/>\r\n          <br/>\r\n\r\n          <h2>Quelle est la différence entre Kerberos et NTLM ?</h2>\r\n\r\n          [Définir NTLM]\r\n\r\n          <p className=\"tabulation\">La principale différence entre les deux systèmes est la vérification tierce partie et le chiffrement plus efficace de Kerberos. Cette étape supplémentaire du processus apporte une couche supplémentaire de sécurité importante par rapport à NTLM.\r\n\r\n          Actuellement, la technologie NTLM est obsolète et n'assure plus correctement la protection des données sensibles.</p>\r\n\r\n          <br/>\r\n          <hr/>\r\n          <br/>\r\n\r\n          <h2>Les attaques sur Kerberos</h2>\r\n          <ul>\r\n            <li>Pass-the-ticket : consiste à falsifier une clé de session et à la présenter à la ressource sous la forme de données d’identification</li>\r\n            <li><a href=\"#golden\">Golden Ticket</a> : un ticket qui accorde à un utilisateur un accès administrateur au domaine</li>\r\n            <li><a href=\"#silver\">Silver Ticket</a> : un ticket falsifié qui donne accès à un service</li>\r\n            <li>Credential stuffing / force brute : tentatives répétées automatisées visant à deviner un mot de passe</li>\r\n            <li>Affaiblissement du chiffrement au moyen d’un Skeleton Key : un malware capable de passer outre Kerberos, mais l’attaque doit disposer d’un accès Admin\r\n            </li>\r\n            <li>Attaque DCShadow : nouvelle attaque grâce à laquelle les hackers pénètrent dans le réseau pour définir leur propre contrôleur de domaine afin de s’infiltrer plus en profondeur</li>\r\n          </ul>\r\n\r\n          <br/>\r\n          <hr id=\"golden\"/>\r\n          <br/>\r\n\r\n          <h3>Golden Ticket</h3>\r\n\r\n          <p className=\"tabulation\">\r\n          Dans un Active Directory, les comptes sont identifiés par un nom d’utilisateur et un mot de passe, l’utilisateur identifié obtient alors un ticket Kerberos contenant son jeton d’authentification.<br/><br/>\r\n\r\n          Le Golden Ticket est le jeton d’authentification associé au compte KRBTG, un compte spécial servant à chiffrer tous les jetons d’authentification pour le DC. Ce Golden Ticket peut être utiliser avec une technique de <strong>Pass-the-hash</strong> pour se connecter à n’importe quel compte.\r\n          </p>\r\n\r\n          <ol>\r\n            <li>Infecter une machine cible avec un malware qui permet un premier accès avec un compte utilisateur pour accéder à d’autres ressources réseau (souvent à partir d’un e-mail de phishing)</li>\r\n            <li>Augmenter suffisamment ses privilèges pour avoir accès au Contrôleur de domaine (DC)</li>\r\n            <li>Se connecter au DC et obtenir via un dump le hash du mot de passe du compte KRBTG afin de créer un Golden Ticket. (dump du hash via mimikatz)</li>\r\n            <li>Utiliser ce Golden Ticket pour accéder à toutes les ressources du réseau</li>\r\n          </ol>\r\n\r\n          <p>La subtilité de cette attaque c’est que même en modifiant le mot de passe du compte KRBTG, le jeton d’authentification restera valide, donc le Golden Ticket aussi.</p>\r\n\r\n          <br/>\r\n          <hr id=\"silver\"/>\r\n          <br/>\r\n\r\n          <h3>Silver Ticket</h3>\r\n\r\n          <p className=\"tabulation\">Après avoir craqué le mot de passe d’un compte il est possible de l’utiliser pour créer un faux ticket d’authentification de service falsifié appelé <strong>Silver Ticker</strong>. Kerberos permet aux services de se connecter sans que la validité de leur jeton ne soit vérifiée, c'est cette caractéristique qui est exploitée pour créer des Silver Tickets.<br/><br/>\r\n\r\n          Sean Metcalf <br/><br/>\r\n          \r\n          Un Silver Ticket est un ticket d’authentification falsifié utilisable pour se connecter à certains comptes. Ils sont plus difficiles à détecter que les Golden Tickets en raison de l’absence de communication entre le service et le contrôleur de domaine et comme la journalisation se fait en local sur l’ordinateur cible.<br/><br/>\r\n\r\n          Les tickets Kerberos sont vérifiés par le Certificat de compte habilité (PAC) tierce partie mais les comptes de services (comme CIFS ou le pare-feu Windows) ne sont pas toujours vérifiés.<br/><br/>\r\n\r\n          Avec un Silver Ticket, on peut authentification Kerberos auprès du contrôleur de domaine ou utiliser une technique pass-the-ticket pour augmenter ses droits d’accès. \r\n          </p>\r\n\r\n          <br/>\r\n          <hr/>\r\n          <br/>\r\n\r\n          <h3>Conclusion</h3>\r\n\r\n          <p className=\"tabulation\">Kerberos est encore loin d’être obsolète et a prouvé son efficacité en tant que protocole d'authentification au moyen d' algorithmes de chiffrement forts qui protégent les mots de passe et tickets d’authentification.</p>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  export default Kerberos;  "]},"metadata":{},"sourceType":"module"}