{"ast":null,"code":"import _classCallCheck from\"/mnt/c/Users/Nico/hackingfornoobs_frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/mnt/c/Users/Nico/hackingfornoobs_frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/mnt/c/Users/Nico/hackingfornoobs_frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/mnt/c/Users/Nico/hackingfornoobs_frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/mnt/c/Users/Nico/hackingfornoobs_frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import SchemaNTLM from\"../img/ntlm_schema.png\";var Ntlm=/*#__PURE__*/function(_React$Component){_inherits(Ntlm,_React$Component);function Ntlm(){_classCallCheck(this,Ntlm);return _possibleConstructorReturn(this,_getPrototypeOf(Ntlm).apply(this,arguments));}_createClass(Ntlm,[{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"article\"},React.createElement(\"h1\",null,\"Le protocole NTLM\"),React.createElement(\"hr\",null),React.createElement(\"h4\",null,\"Les formats de Hash\"),React.createElement(\"ul\",null,React.createElement(\"li\",null,React.createElement(\"strong\",null,\"LM\"),\" : hash des anciennes versions de Windows, obsol\\xE8te (s\\xE9curit\\xE9 tr\\xE8s faible).\"),React.createElement(\"li\",null,React.createElement(\"strong\",null,\"NTLM\"),\" : hash des versions r\\xE9centes de Windows, (robuste).\")),React.createElement(\"p\",{className:\"tabulation\"},\"Ces hash sont stock\\xE9s dans la base \",React.createElement(\"strong\",null,\"SAM\"),\" pour les comptes locaux ou dans la m\\xE9moire du processus \",React.createElement(\"strong\",null,\"lsass\"),\" et dans la base \",React.createElement(\"strong\",null,\"NTDS.dit\"),\" de l'AD pour les comptes de domaine.\",React.createElement(\"br\",null),React.createElement(\"br\",null),\"Il est possible de les bruteforcer pour obtenir des comptes ou de s'en servir dans une attaque Pass-The-Hash pour augmenter ses acc\\xE8s.\"),React.createElement(\"br\",null),React.createElement(\"h4\",null,\"Les protocoles d'authentification (Challenge/Response)\"),React.createElement(\"ul\",null,React.createElement(\"li\",null,\"Protocole \",React.createElement(\"strong\",null,\"LM\"),\" : associ\\xE9 au hash LM et au chiffrement DES, obsol\\xE8te (s\\xE9curit\\xE9 tr\\xE8s faible)\"),React.createElement(\"li\",null,\"Protocole \",React.createElement(\"strong\",null,\"NTLMv1\"),\" : similaire mais associ\\xE9 au hash NTLM (obsol\\xE8te \\xE9galement, faible)\"),React.createElement(\"li\",null,\"Procole \",React.createElement(\"strong\",null,\"NTLMv2\"),\" : version la plus r\\xE9cente (robuste), associ\\xE9 au chiffrement HMAC-DES\")),React.createElement(\"br\",null),React.createElement(\"strong\",null,\"L'authentification NTLM s'effectue en plusieurs \\xE9tapes :\"),React.createElement(\"img\",{id:\"schema_ntlm\",src:SchemaNTLM,alt:\"schema NTLM\"}),React.createElement(\"ol\",null,React.createElement(\"li\",null,\"Le client envoie au serveur une demande d'authentification avec les versions du protocole NTLM qu'il accepte. (NTLMSSP_Negociate)\"),React.createElement(\"li\",null,\"Le serveur r\\xE9pond au client avec les version du protocole NTLM accept\\xE9es et un 'challenge' \\xE0 r\\xE9soudre. (NTLMSSP_Challenge)\"),React.createElement(\"li\",null,\"le client chiffre le challenge avec le hash du mot de passe de l'utilisateur et envoie sa 'response' au serveur. (NTLMSSP_Auth)\"),React.createElement(\"li\",null,\"Dans le cas d'une authentification avec un compte de domaine, le serveur envoie ces infos au DC.\"),React.createElement(\"li\",null,\"Le DC renvoie une r\\xE9ponse qui valide ou non l'authentification.\")),React.createElement(\"p\",{className:\"tabulation\"},\"L'authentification NTLM peut \\xEAtre encapsul\\xE9e dans plusieurs protocoles : SMB, LDAP, HTTP(S), IMAP, SMTP ou MS-SQL.\"),React.createElement(\"br\",null),React.createElement(\"h2\",null,\"L'attaque du relai NTLM \"));}}]);return Ntlm;}(React.Component);export default Ntlm;","map":{"version":3,"sources":["/mnt/c/Users/Nico/hackingfornoobs_frontend/src/components/Ntlm.js"],"names":["React","SchemaNTLM","Ntlm","Component"],"mappings":"+nBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,UAAP,KAAuB,wBAAvB,C,GAEMC,CAAAA,I,kQACO,CACP,MACE,4BAAK,SAAS,CAAC,SAAf,EACE,kDADF,CAEE,8BAFF,CAIE,oDAJF,CAKE,8BACI,8BAAI,uCAAJ,2FADJ,CAEI,8BAAI,yCAAJ,2DAFJ,CALF,CASE,yBAAG,SAAS,CAAC,YAAb,2CAA6D,wCAA7D,gEAA0I,0CAA1I,qBAAiL,6CAAjL,yCAA+O,8BAA/O,CAAoP,8BAApP,6IATF,CAaE,8BAbF,CAeE,uFAfF,CAiBE,8BACI,2CAAc,uCAAd,+FADJ,CAEI,2CAAc,2CAAd,gFAFJ,CAGI,yCAAY,2CAAZ,+EAHJ,CAjBF,CAuBE,8BAvBF,CAyBE,gGAzBF,CA2BE,2BAAK,EAAE,CAAC,aAAR,CAAsB,GAAG,CAAED,UAA3B,CAAuC,GAAG,CAAC,aAA3C,EA3BF,CA6BE,8BACI,kKADJ,CAEI,uKAFJ,CAGI,gKAHJ,CAII,iIAJJ,CAKI,mGALJ,CA7BF,CAoCE,yBAAG,SAAS,CAAC,YAAb,6HApCF,CAsCE,8BAtCF,CAwCE,yDAxCF,CADF,CA4CD,C,kBA9CcD,KAAK,CAACG,S,EAiDvB,cAAeD,CAAAA,IAAf","sourcesContent":["import React from 'react';\r\nimport SchemaNTLM from \"../img/ntlm_schema.png\"\r\n\r\nclass Ntlm extends React.Component {\r\n    render() {\r\n      return (\r\n        <div className=\"article\">\r\n          <h1>Le protocole NTLM</h1>\r\n          <hr/>\r\n\r\n          <h4>Les formats de Hash</h4>\r\n          <ul>\r\n              <li><strong>LM</strong> : hash des anciennes versions de Windows, obsolète (sécurité très faible).</li>\r\n              <li><strong>NTLM</strong> : hash des versions récentes de Windows, (robuste).</li>\r\n          </ul>\r\n          <p className=\"tabulation\">Ces hash sont stockés dans la base <strong>SAM</strong> pour les comptes locaux ou dans la mémoire du processus <strong>lsass</strong> et dans la base <strong>NTDS.dit</strong> de l'AD pour les comptes de domaine.<br/><br/>\r\n\r\n          Il est possible de les bruteforcer pour obtenir des comptes ou de s'en servir dans une attaque Pass-The-Hash pour augmenter ses accès.</p>\r\n\r\n          <br/>\r\n          \r\n          <h4>Les protocoles d'authentification (Challenge/Response)</h4>\r\n\r\n          <ul>\r\n              <li>Protocole <strong>LM</strong> : associé au hash LM et au chiffrement DES, obsolète (sécurité très faible)</li>\r\n              <li>Protocole <strong>NTLMv1</strong> : similaire mais associé au hash NTLM (obsolète également, faible)</li>\r\n              <li>Procole <strong>NTLMv2</strong> : version la plus récente (robuste), associé au chiffrement HMAC-DES</li>\r\n          </ul>\r\n\r\n          <br/>\r\n\r\n          <strong>L'authentification NTLM s'effectue en plusieurs étapes :</strong>\r\n\r\n          <img id=\"schema_ntlm\" src={SchemaNTLM} alt=\"schema NTLM\"/>\r\n\r\n          <ol>\r\n              <li>Le client envoie au serveur une demande d'authentification avec les versions du protocole NTLM qu'il accepte. (NTLMSSP_Negociate)</li>\r\n              <li>Le serveur répond au client avec les version du protocole NTLM acceptées et un 'challenge' à résoudre. (NTLMSSP_Challenge)</li>\r\n              <li>le client chiffre le challenge avec le hash du mot de passe de l'utilisateur et envoie sa 'response' au serveur. (NTLMSSP_Auth)</li>\r\n              <li>Dans le cas d'une authentification avec un compte de domaine, le serveur envoie ces infos au DC.</li>\r\n              <li>Le DC renvoie une réponse qui valide ou non l'authentification.</li>\r\n          </ol>\r\n          <p className=\"tabulation\">L'authentification NTLM peut être encapsulée dans plusieurs protocoles : SMB, LDAP, HTTP(S), IMAP, SMTP ou MS-SQL.</p>\r\n\r\n          <br/>\r\n          \r\n          <h2>L'attaque du relai NTLM </h2>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  export default Ntlm;"]},"metadata":{},"sourceType":"module"}